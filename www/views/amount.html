<ion-view id="view-amount" hide-tabs>
  <ion-nav-bar class="bar-royal">
    <ion-nav-title>
      {{'Enter amount' | translate}}
    </ion-nav-title>
    <ion-nav-back-button ng-click="goBack()"></ion-nav-back-button>
  </ion-nav-bar>
  <ion-content scroll="false">

    <div ng-if="!customAmount && !nextStep">
      <div class="item item-no-bottom-border recipient-label" translate>Recipient</div>

      <div class="item item-text-wrap item-icon-left bitcoin-address">
        <i class="icon big-icon-svg" ng-if="recipientType == 'wallet'">
          <img src="img/icon-wallet.svg" ng-class="{'wallet-background-color-default': !toColor}" ng-style="{'background-color': toColor}" class="bg"/>
        </i>
        <span ng-if="recipientType == 'contact'">
          <i class="icon big-icon-svg" ng-if="isChromeApp">
            <img src="img/contact-placeholder.svg" class="bg"/>
          </i>
          <gravatar ng-if="!isChromeApp" class="send-gravatar" name="{{toName}}" height="30" width="30" email="{{toEmail}}"></gravatar>
        </span>
        <span ng-if="!recipientType">
          <i class="icon big-icon-svg">
            <img src="img/contact-placeholder.svg" class="bg"/>
          </i>
        </span>
        <span class="m10l" copy-to-clipboard="displayAddress ? ((displayAddress[0] == 'q' || displayAddress[0] == 'p') ? 'bitcoincash:' : '') + displayAddress : toAddress">{{toName || displayAddress || toAddress}}</span>
      </div>
    </div>

    <div ng-show="!isAndroid && !isIos" class="send-amount" ng-class="{'amount-pane-recipient': !customAmount && !nextStep,'amount-pane-no-recipient': customAmount || nextStep}">
      <span class="recipient-label notification-warning" ng-if="showWarningMessage" translate>Note: Address doesn't contain currency information, please make sure you are sending the correct currency.</span>
      <div class="amount-bar oh">
        <div class="title">
          <span translate>Amount</span>
        </div>
      </div>
      <div ng-if="shapeshiftOrderId">
        Minimum amount: {{minShapeshiftAmount}} <br/>
        Maximum amount: {{maxShapeshiftAmount}} <br/>
      </div>
      <div class="amount">
        <div class="amount__editable" ng-class="{'amount__editable--minimize': smallFont, 'amount__editable--standard': !smallFont, 'amount__editable--placeholder': !amountModel.amount}">
          <span class="amount__number">{{amountModel.amount || "0.00" }}</span>
          <a class="amount__currency-toggle" ng-click="changeUnit()">{{unit}}</a>
        </div>
        <div ng-class="{'amount__results--minimize': smallFont, 'amount__results--standard': !smallFont, 'amount__results--placeholder': amountResult}" ng-click="changeAlternativeUnit()">
          <div class="amount__result" ng-show="globalResult">{{globalResult}} {{unit}}</div>
          <div class="amount__result-equiv">&lt;&gt; {{alternativeAmount || '0.00'}} {{alternativeUnit}}</div>
        </div>
        <div>
          <button class="button button-sendmax" ng-click="sendMax()">
            <span>
              <i class="icon ion-ios-speedometer-outline"></i>&emsp;
              <span translate>Send max amount</span>
            </span>
          </button>
          <button class="button button-sendmax" ng-click="changeUnit()">Switch Currencies<button/>
        </div>
      </div>
    </div>

    <div class="item send-amount" ng-show="isAndroid || isIos">
      <span class="recipient-label notification-warning" ng-if="showWarningMessage" translate>Note: Address doesn't contain currency information, please make sure you are sending the correct currency.</span>
      <div ng-if="shapeshiftOrderId">
        Minimum amount: {{minShapeshiftAmount}} <br/>
        Maximum amount: {{maxShapeshiftAmount}} <br/>
      </div>
      <div class="send-amount-tool">
        <div class="send-amount-tool-input amount">
          <div class="primary-amount"
            ng-class="{long: amountModel.amount.length > 5, 'very-long': amountModel.amount.length > 10}">
            <span class="primary-amount-display">{{ amountModel.amount || 0 }}</span><span class="unit">{{unit}}</span>
          </div>
          <span ng-show="globalResult">{{globalResult}} {{unit}}</span>
          <div class="alternative-amount">
            <span>{{alternativeAmount || '0.00'}} {{alternativeUnit}}</span>
          </div>
          <div class="switch-currencies" ng-click="changeUnit()"><img src="img/icon-convert.svg"></div>
        </div>
        <div class="send-amount-actions text-center">
          <button class="button button-sendmax" ng-click="sendMax()">
            <span>
              <i class="icon ion-ios-speedometer-outline"></i>&emsp;
              <span translate>Send max amount</span>
            </span>
          </button>
        </div>
      </div>
    </div>

    <div class="keypad-container">
      <div class="keypad">
        <div class="row">
            <div class="col col-25 col-offset-75 operator-send"
            ng-show="allowSend" ng-click="finish()">
            <i class="icon ion-ios-arrow-thin-right"></i>
          </div>
        </div>

        <div class="row">
          <div class="col digit" ng-click="pushDigit('7')">7</div>
          <div class="col digit" ng-click="pushDigit('8')">8</div>
          <div class="col digit" ng-click="pushDigit('9')">9</div>
        </div>

        <div class="row">
          <div class="col digit" ng-click="pushDigit('4')">4</div>
          <div class="col digit" ng-click="pushDigit('5')">5</div>
          <div class="col digit" ng-click="pushDigit('6')">6</div>
        </div>

        <div class="row">
          <div class="col digit" ng-click="pushDigit('1')">1</div>
          <div class="col digit" ng-click="pushDigit('2')">2</div>
          <div class="col digit" ng-click="pushDigit('3')">3</div>
        </div>

        <div class="row">
          <div class="col digit" ng-click="pushDigit('.')">.</div>
          <div class="col digit" ng-click="pushDigit('0')">0</div>
          <div class="col digit icon ion-backspace-outline" ng-click="removeDigit()"></div>
        </div>
      </div>
    </div>

    <button 
      ng-show="isAndroid || isIos"
      class="button button-full button-primary no-margin" 
      ng-disabled="!allowSend" 
      ng-click="finish()"
      translate>
      Next
    </button>
  </ion-content>
</ion-view>
